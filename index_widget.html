<!DOCTYPE html>
<html lang="en" style="width: 100%;height: 100%;">
<head>
	<meta charset="UTF-8">
	<title>translate</title>
    <script type="text/javascript" src="https://onlyoffice.github.io/sdkjs-plugins/v1/plugins.js"></script>
	<style>
		.body_class {
			top: 0 !important;
			left: 0 !important;
			padding: 10px !important;
			box-sizing: border-box;
			overflow: hidden;
		}
		.goog-te-banner-frame {
			display: none;
		}
		.goog-te-combo {
			width: 100% !important;
		}
		.noselect {
			-khtml-user-select: none;
			user-select: none;
			-moz-user-select: none;
			-webkit-user-select: none;
		}
		.goog-tooltip {
			display: none !important;
		}
		font {
			background-color: transparent !important;
			-webkit-box-shadow: 0px 0px 0px #9999aa !important;
			-moz-box-shadow: 0px 0px 0px #9999aa !important;
			box-shadow: 0px 0px 0px #9999aa !important;
			box-sizing: border-box !important;
			-webkit-box-sizing: border-box !important;
			-moz-box-sizing: border-box !important;
			position: relative !important;
		}
		img {
			width: 42px !important;
			height: 16px !important;
			padding-top: 3px !important;
		}
		.goog-te-gadget {
			flex: 1;
		}
		.goog-te-combo {
			height: 22px;
		}
		button {
			color: #fff;
			background-color: #7d858c;
			border: 1px solid #cfcfcf;
			border-radius: 2px;
			outline: none;
			font-size: 11px;
			font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
			height: 22px;
			cursor: pointer;
		}
		#btn_copy, #btn_paste {
			width: 50px !important;
		}
		#hr {
			width: 100% !important;
			margin-left: 0px !important;
		}
	</style>
</head>
<body id="body" class="body_class" style="left:0px;top:0px;width:100%; height: 100%;margin:0px;padding:0px;">
	<div id="google_translate_state"></div>
	<hr id ="hr">
	<div style="overflow: auto; overflow-x: hidden; padding-top: 15px;">
		<div id="google_translate_element" style="width: calc(100% - 15px); font-family: 'Arial'; word-break: break-word; white-space: pre-wrap;"></div>
	</div>
	<script>
		var timeOut;
		function googleTranslateElementInit() 
		{

			document.getElementById("google_translate_element").style.height = document.getElementById("body").clientHeight- 100 +"px";

			// const urlParams = new URLSearchParams(window.location.search);
			// console.log(urlParams);
			// document.getElementById("google_translate_element").innerHTML = decodeURIComponent(urlParams.get("text"));
			window.googleTranslator = new google.translate.TranslateElement({
				//pageLanguage: 'en',
				layout: google.translate.TranslateElement.InlineLayout.VERTICAL,
				disableAutoTranslation : false,
			}, 'google_translate_state');
		}
		window.onload = function () {
			setTimeout(function() {
				document.getElementById("btn_copy").onclick = function () {
				selectText("google_translate_element");
				}
			}, 500);
			if (navigator.userAgent.indexOf("Chrome") !== -1) {
				document.getElementById(":0.targetLanguage").firstChild.style = "height:21px;"
			}

			function selectText(id) {
				var sel, range;
				var el = document.getElementById(id); //get element id
				if (window.getSelection && document.createRange) { //Browser compatibility
				sel = window.getSelection();
				if (sel.toString() == '') { //no text selection
					window.setTimeout(function(){
						range = document.createRange(); //range object
						range.selectNodeContents(el); //sets Range
						sel.removeAllRanges(); //remove all ranges from selection
						sel.addRange(range);//add Range to a Selection.
						document.execCommand("copy"); //copy
						sel.removeAllRanges(); //remove all ranges from selection
					},1);
				}
				} else if (document.selection) { //older ie
					sel = document.selection.createRange();
					if (sel.text == '') { //no text selection
						range = document.body.createTextRange();//Creates TextRange object
						range.moveToElementText(el);//sets Range
						range.select(); //make selection.
						document.execCommand("copy"); //copy
					}
				}
			}
			
		}
		window.addEventListener('message', function (msg) {
			if (msg.data !== "onchange_goog-te-combo") {
				document.getElementById("google_translate_element").innerHTML = msg.data;
			}
			timeOut = setTimeout(function() {
				document.getElementById("google_translate_element").style.opacity = 1;
			}, 600);
		});
	</script>
<script src="vendor/google/google.js"></script>
<!-- for russian language -->
<!-- <script src="http://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> -->
</body>
</html>